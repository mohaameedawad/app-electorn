<div class="change-password-container">
  <div class="change-password-card">
    <div class="header-section">
      <div class="icon-circle">
        <i class="pi pi-key prefix-icon"></i>
      </div>
      <h2>تغيير كلمة المرور</h2>
      <p class="user-info" *ngIf="currentUser">{{ currentUser.fullName }} ({{ currentUser.username }})</p>
    </div>

    <div class="form-section">
      <div class="input-group mb-4">
        <label for="currentPassword">كلمة المرور الحالية</label>
        <input
          pInputText
          id="currentPassword"
          type="password"
          [(ngModel)]="currentPassword"
          placeholder="أدخل كلمة المرور الحالية"
          class="w-100"
          (keyup.enter)="changePassword()"
        />
      </div>

      <div class="input-group mb-4">
        <label for="newPassword">كلمة المرور الجديدة</label>
        <input
          pInputText
          id="newPassword"
          type="password"
          [(ngModel)]="newPassword"
          placeholder="أدخل كلمة المرور الجديدة"
          class="w-100"
          (keyup.enter)="changePassword()"
        />
      </div>

      <div class="input-group mb-4">
        <label for="confirmPassword">تأكيد كلمة المرور الجديدة</label>
        <input
          pInputText
          id="confirmPassword"
          type="password"
          [(ngModel)]="confirmPassword"
          placeholder="أعد إدخال كلمة المرور الجديدة"
          class="w-100"
          (keyup.enter)="changePassword()"
        />
      </div>

      <div class="error-message" *ngIf="errorMessage">
        <i class="pi pi-exclamation-circle prefix-icon"></i>
        {{ errorMessage }}
      </div>

      <div class="success-message" *ngIf="successMessage">
        <i class="pi pi-check-circle prefix-icon"></i>
        {{ successMessage }}
      </div>

      <div class="button-group">
        <button
          pButton
          type="button"
          label="تغيير كلمة المرور"
          icon="pi pi-key"
          (click)="changePassword()"
          class="flex-1"
        ></button>

        <button
          pButton
          type="button"
          label="إلغاء"
          icon="pi pi-times"
          (click)="cancel()"
          class="flex-1 p-button-outlined p-button-secondary"
        ></button>
      </div>
    </div>

    <div class="info-box">
      <i class="pi pi-info-circle prefix-icon"></i>
      <p>كلمة المرور يجب أن تكون 4 أحرف على الأقل</p>
    </div>
  </div>
</div>
