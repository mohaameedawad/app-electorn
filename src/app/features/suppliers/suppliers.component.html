<div class="page-header">
  <h2>الموردين</h2>
  <button class="add-button" (click)="showDialog()">+ إضافة مورد</button>
</div>
<app-table [columns]="columns" [data]="data"></app-table>

<app-dialog 
  [(visible)]="visible"
  [header]="'إضافة مورد'"
  [width]="'500px'">
  
  <div dialog-content class="form-container">
    <div class="form-group">
      <label>اسم المورد</label>
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="newSupplier.name"
        class="full-width" />
    </div>

    <div class="form-group">
      <label>رقم الهاتف</label>
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="newSupplier.phone"
        placeholder="ادخل رقم الهاتف"
        maxlength="11"
        class="full-width" />
      <span class="error-message" *ngIf="phoneError">{{ phoneError }}</span>
    </div>

    <div class="form-group">
      <label>العنوان</label>
      <input 
        type="text" 
        pInputText 
        [(ngModel)]="newSupplier.address"
        class="full-width" />
    </div>

    <div class="form-group">
      <label>نوع الرصيد</label>
      <p-select 
        [(ngModel)]="newSupplier.balanceType"
        [options]="balanceTypes"
        optionLabel="label"
        optionValue="value"
        placeholder="اختر نوع الرصيد"
        class="full-width"
      ></p-select>
    </div>

    <div class="form-group">
      <label>المبلغ</label>
      <p-inputnumber 
        [(ngModel)]="newSupplier.balanceAmount"
        mode="decimal"
        [showButtons]="true"
        placeholder="أدخل المبلغ"
        [maxFractionDigits]="2"
        class="full-width">
      </p-inputnumber>
    </div>
  </div>

  <div dialog-footer class="dialog-footer">
    <p-button 
      label="إلغاء" 
      severity="secondary" 
      (onClick)="closeDialog()"
      [text]="true">
    </p-button>
    <p-button 
      label="حفظ" 
      (onClick)="saveSupplier()">
    </p-button>
  </div>
</app-dialog>
